(function(e){function t(t){for(var a,s,c=t[0],i=t[1],l=t[2],p=0,d=[];p<c.length;p++)s=c[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,c=1;c<r.length;c++){var i=r[c];0!==n[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},o=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},9224:function(e){e.exports=JSON.parse('{"name":"downloader","version":"0.1.0","private":true,"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint"},"dependencies":{"core-js":"^3.6.5","vue":"^2.6.11","vue-class-component":"^7.2.3","vue-property-decorator":"^9.1.2","vuetify":"^2.4.0"},"devDependencies":{"@mdi/font":"^6.1.95","@typescript-eslint/eslint-plugin":"^4.18.0","@typescript-eslint/parser":"^4.18.0","@vue/cli-plugin-babel":"^4.5.0","@vue/cli-plugin-eslint":"^4.5.0","@vue/cli-plugin-typescript":"^4.5.0","@vue/cli-service":"^4.5.0","@vue/eslint-config-typescript":"^7.0.0","eslint":"^6.7.2","eslint-plugin-prettier":"^3.3.1","eslint-plugin-vue":"^6.2.2","ky":"^0.28.5","prettier":"^2.2.1","sass":"~1.32.0","sass-loader":"^10.0.0","typeface-roboto":"^1.1.13","typescript":"~4.1.5","vue-cli-plugin-vuetify":"^2.4.2","vue-template-compiler":"^2.6.11","vuetify-loader":"^1.7.0"},"eslintConfig":{"root":true,"env":{"node":true},"extends":["plugin:vue/essential","eslint:recommended","@vue/typescript/recommended"],"parserOptions":{"ecmaVersion":2020},"rules":{"quotes":["warn","single"],"semi":["warn"],"no-var":"error","no-console":"warn"}},"browserslist":["> 1%","last 2 versions","not dead"]}')},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("ac1f"),r("5319"),r("b0c0");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:""}},[r("v-tabs",{attrs:{"fixed-tabs":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab",{key:"add",staticClass:"primary--text"},[r("v-icon",[e._v("mdi-plus-circle")])],1),r("v-tab",{key:"text-add",staticClass:"primary--text"},[r("v-icon",[e._v("mdi-plus-box-multiple")])],1),r("v-tab",{key:"download",staticClass:"primary--text"},[r("v-icon",[e._v("mdi-download")])],1)],1)],1),r("v-main",[r("v-container",[r("v-row",{staticClass:"ma-0 mb-3",attrs:{justify:"center"}},[r("v-sheet",{staticClass:"pa-3 rounded-lg",attrs:{width:"100%","max-width":"1024"}},[r("v-text-field",{attrs:{label:"仓库地址",prefix:"https://gitee.com/",outlined:"",dense:""},on:{input:e.saveRepository},model:{value:e.repository,callback:function(t){e.repository=t},expression:"repository"}}),r("v-text-field",{attrs:{label:"仓库Token",outlined:"",dense:""},on:{input:e.saveRepositoryToken},model:{value:e.repositoryToken,callback:function(t){e.repositoryToken=t},expression:"repositoryToken"}}),r("v-text-field",{attrs:{label:"服务器地址",outlined:"",dense:""},on:{input:e.saveServer},model:{value:e.server,callback:function(t){e.server=t},expression:"server"}}),r("v-text-field",{attrs:{label:"服务器Token",outlined:"",dense:"","hide-details":""},on:{input:e.saveServerToken},model:{value:e.serverToken,callback:function(t){e.serverToken=t},expression:"serverToken"}})],1)],1),r("v-row",{staticClass:"ma-0",attrs:{justify:"center"}},[r("v-tabs-items",{staticClass:"rounded-lg pa-3",staticStyle:{"max-width":"1024px",width:"100%"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",{key:"add"},[r("Add",{attrs:{repos:e.repos},on:{alert:e.showAlert}})],1),r("v-tab-item",{key:"text-add"},[r("TextAdd",{attrs:{repos:e.repos},on:{alert:e.showAlert}})],1),r("v-tab-item",{key:"download"},[r("Downloading",{on:{alert:e.showAlert}})],1)],1)],1)],1)],1),e._l(e.alerts,(function(t,a){return r("v-snackbar",{key:a,style:"margin-top: "+64*a+"px",attrs:{color:t.type,timeout:5e3,top:"",right:"",transition:"slide-x-reverse-transition"},model:{value:t.show,callback:function(r){e.$set(t,"show",r)},expression:"alert.show"}},[e._v(" "+e._s(t.text)+" ")])}))],2)},o=[],s=r("2909"),c=r("1da1"),i=r("d4ec"),l=r("bee2"),u=r("262e"),p=r("2caf"),d=(r("96cf"),r("d81d"),r("7db0"),r("99af"),r("9ab4")),v=r("1b40"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{on:{submit:function(e){e.preventDefault()}},model:{value:e.validate,callback:function(t){e.validate=t},expression:"validate"}},[r("v-row",{staticClass:"my-2",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:[function(e){return!!e||"*必要"}],outlined:"",dense:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 下载链接"),r("span",{staticClass:"red--text"},[e._v("*")])]},proxy:!0}]),model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.repos,label:"仓库",outlined:"",dense:""},model:{value:e.repo,callback:function(t){e.repo=e._n(t)},expression:"repo"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"文件选择",outlined:"",dense:"",placeholder:"BT 专用，留空为全选文件，逗号分割，可用 - 表示连续文件序号"},model:{value:e.selections,callback:function(t){e.selections=t},expression:"selections"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"下载路径",outlined:"",dense:""},model:{value:e.dir,callback:function(t){e.dir=t},expression:"dir"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"指定文件名",outlined:"",dense:""},model:{value:e.out,callback:function(t){e.out=t},expression:"out"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{label:"请求头",outlined:"",dense:"","hide-details":"",placeholder:"每行一项，“请求头名: 请求头值”"},model:{value:e.headers,callback:function(t){e.headers=t},expression:"headers"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-checkbox",{attrs:{label:"使用代理下载","hide-details":""},model:{value:e.proxy,callback:function(t){e.proxy=t},expression:"proxy"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-checkbox",{attrs:{label:"自动解压压缩包","hide-details":""},model:{value:e.decompress,callback:function(t){e.decompress=t},expression:"decompress"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-checkbox",{attrs:{label:"使用 EX Cookie"},model:{value:e.exCookie,callback:function(t){e.exCookie=t},expression:"exCookie"}})],1),r("v-btn",{attrs:{disabled:!e.validate||e.sending,loading:e.sending,block:"",large:"",depressed:""},on:{click:function(t){return t.stopPropagation(),e.sendToDownload.apply(null,arguments)}}},[e._v(" 发送下载 ")])],1)],1)},f=[],b=(r("1276"),r("498a"),r("d3b7"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("dfd0")),m={requestSender:function(){var e=localStorage.getItem("server")||"",t=localStorage.getItem("serverToken")||"";return b["a"].extend({prefixUrl:e,headers:{Authorization:"token ".concat(t)}})},sendToDownload:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.requestSender().post("task",{json:e,searchParams:{action:"add"}});case 2:case"end":return r.stop()}}),r)})))()},sendToRemove:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.requestSender().post("task",{json:{gid:e},searchParams:{action:"remove"}});case 2:case"end":return r.stop()}}),r)})))()},sendToClear:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.requestSender().post("task",{json:{gid:e},searchParams:{action:"clear"}});case 2:case"end":return r.stop()}}),r)})))()},giteeFetch:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=localStorage.getItem("repository")||"",n=localStorage.getItem("repositoryToken")||"",r.next=4,b["a"].get("repos/".concat(a,"/contents/").concat(e),{prefixUrl:"https://gitee.com/api/v5",searchParams:{access_token:n}}).json();case 4:return o=r.sent,s=o.content,r.abrupt("return",t.decodeToUTF8(s));case 7:case"end":return r.stop()}}),r)})))()},decodeToUTF8:function(e){for(var t=atob(e),r=t.length,a=new Uint8Array(r),n=0;n<r;n++)a[n]=t.charCodeAt(n);var o=new TextDecoder;return o.decode(a)},getDownloadingList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.requestSender().get("downloading").json();case 2:return r=t.sent,a=r.result,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()}},x=function(e){Object(u["a"])(r,e);var t=Object(p["a"])(r);function r(){var e;return Object(i["a"])(this,r),e=t.apply(this,arguments),e.validate=!1,e.repo="",e.url="",e.selections="",e.dir="",e.out="",e.headers="",e.proxy=!1,e.decompress=!1,e.exCookie=!1,e.sending=!1,e}return Object(l["a"])(r,[{key:"alert",value:function(e,t,r){}},{key:"sendToDownload",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.sending=!0,e.prev=1,t={url:this.url},"number"===typeof this.repo&&(t.repo=this.repo),this.selections&&(t.selections=this.selections),this.dir&&(t.dir=this.dir),this.out&&(t.out=this.out),this.proxy&&(t.proxy=this.proxy),this.decompress&&(t.decompress=this.decompress),this.headers&&(t.header=this.headers.split("\n").map((function(e){return e.trim()}))),!this.exCookie){e.next=16;break}return e.next=13,m.giteeFetch("ex_cookie.txt");case 13:r=e.sent,t.header?t.header.push(r.trim()):t.header=[r.trim()],this.alert("获取 EX Cookie 信息成功","success");case 16:return e.next=18,m.sendToDownload(t);case 18:this.alert("发送成功","success"),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](1),this.alert("".concat(e.t0),"error",e.t0);case 24:this.sending=!1;case 25:case"end":return e.stop()}}),e,this,[[1,21]])})));function t(){return e.apply(this,arguments)}return t}()}]),r}(v["d"]);Object(d["a"])([Object(v["b"])()],x.prototype,"alert",null),Object(d["a"])([Object(v["c"])(Array)],x.prototype,"repos",void 0),x=Object(d["a"])([v["a"]],x);var k=x,g=k,y=r("2877"),w=r("6544"),j=r.n(w),T=r("8336"),_=r("ac7c"),O=r("62ad"),C=r("4bd4"),S=r("0fd9"),V=r("b974"),R=r("8654"),P=r("a844"),D=Object(y["a"])(g,h,f,!1,null,null,null),F=D.exports;j()(D,{VBtn:T["a"],VCheckbox:_["a"],VCol:O["a"],VForm:C["a"],VRow:S["a"],VSelect:V["a"],VTextField:R["a"],VTextarea:P["a"]});var I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{on:{submit:function(e){e.preventDefault()}},model:{value:e.validate,callback:function(t){e.validate=t},expression:"validate"}},[r("v-row",{staticClass:"my-2",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{rules:[function(e){return!!e||"*必要"}],outlined:"",dense:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Aria2下载文本"),r("span",{staticClass:"red--text"},[e._v("*")])]},proxy:!0}]),model:{value:e.aria2,callback:function(t){e.aria2=t},expression:"aria2"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.repos,label:"仓库",outlined:"",dense:""},model:{value:e.repo,callback:function(t){e.repo=e._n(t)},expression:"repo"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-checkbox",{attrs:{label:"使用代理下载","hide-details":""},model:{value:e.proxy,callback:function(t){e.proxy=t},expression:"proxy"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-checkbox",{attrs:{label:"自动解压压缩包","hide-details":""},model:{value:e.decompress,callback:function(t){e.decompress=t},expression:"decompress"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-checkbox",{attrs:{label:"使用 EX Cookie"},model:{value:e.exCookie,callback:function(t){e.exCookie=t},expression:"exCookie"}})],1),r("v-btn",{attrs:{disabled:!e.validate||e.sending,loading:e.sending,block:"",large:"",depressed:""},on:{click:function(t){return t.stopPropagation(),e.sendToDownload.apply(null,arguments)}}},[e._v(" 发送下载 ")])],1)],1)},A=[],M=r("3835"),N=r("b85c"),B=(r("466d"),r("159b"),function(e){Object(u["a"])(r,e);var t=Object(p["a"])(r);function r(){var e;return Object(i["a"])(this,r),e=t.apply(this,arguments),e.validate=!1,e.repo="",e.aria2="",e.proxy=!1,e.decompress=!1,e.exCookie=!1,e.sending=!1,e}return Object(l["a"])(r,[{key:"alert",value:function(e,t,r){}},{key:"parseText",value:function(){var e,t=this.aria2.split("\n"),r=[],a=Object(N["a"])(t);try{for(a.s();!(e=a.n()).done;){var n=e.value;if(" "!==n[0])r.push({url:n});else{var o=n.trim().match(/([^=]*)=(.*)/)||[],s=Object(M["a"])(o,3),c=s[1],i=s[2],l=r[r.length-1];switch(c){case"selections":case"dir":case"out":l[c]=i;break;case"header":l.header?l.header.push(i):l.header=[i];break}}}}catch(u){a.e(u)}finally{a.f()}return r}},{key:"sendToDownload",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.sending=!0,e.prev=1,t=this.parseText(),r="",!this.exCookie){e.next=8;break}return e.next=7,m.giteeFetch("ex_cookie.txt");case 7:r=e.sent;case 8:return t.forEach((function(e){"number"===typeof a.repo&&(e.repo=a.repo),a.proxy&&(e.proxy=a.proxy),a.decompress&&(e.decompress=a.decompress),a.exCookie&&(e.header?e.header.push(r.trim()):e.header=[r.trim()],a.alert("获取 EX Cookie 信息成功","success"))})),e.next=11,m.sendToDownload(t);case 11:this.alert("发送成功","success"),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),this.alert("".concat(e.t0),"error",e.t0);case 17:this.sending=!1;case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(){return e.apply(this,arguments)}return t}()}]),r}(v["d"]));Object(d["a"])([Object(v["b"])()],B.prototype,"alert",null),Object(d["a"])([Object(v["c"])(Array)],B.prototype,"repos",void 0),B=Object(d["a"])([v["a"]],B);var $=B,E=$,L=Object(y["a"])(E,I,A,!1,null,null,null),z=L.exports;j()(L,{VBtn:T["a"],VCheckbox:_["a"],VCol:O["a"],VForm:C["a"],VRow:S["a"],VSelect:V["a"],VTextarea:P["a"]});var q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"my-2",attrs:{dense:""}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{staticClass:"mx-0",attrs:{justify:"space-between"}},[r("v-subheader",{staticClass:"px-0"},[e._v("服务器连接状态："),r("v-chip",{attrs:{label:"","x-small":"",color:null===e.connected?"":e.connected?"success":"error"}},[e._v(e._s(null===e.connected?"初始化":e.connected?"成功":"失败"))])],1),r("v-subheader",{staticClass:"px-0"},[e._v("更新时间："),r("v-chip",{attrs:{label:"","x-small":""}},[e._v(e._s(null===e.connected?"初始化":e.fetchTime))])],1)],1)],1),e._l(e.info,(function(t){return r("v-col",{key:t.name,attrs:{cols:"12"}},[r("v-badge",{staticStyle:{width:"100%"},attrs:{color:"transparent",bottom:"",overlap:"",bordered:"",avatar:""},scopedSlots:e._u([{key:"badge",fn:function(){return["active"===t.status||"error"===t.status||"removed"===t.status?r("v-btn",{staticStyle:{"z-index":"1"},attrs:{color:"grey darken-3",fab:"",depressed:"","x-small":"",width:20,height:20},on:{click:function(r){r.stopPropagation(),"active"===t.status?e.removeTask(t.gid):e.clearTask(t.gid)}}},[r("v-icon",{attrs:{"x-small":""}},[e._v(e._s("active"===t.status?"mdi-stop":"mdi-close"))])],1):e._e()]},proxy:!0}],null,!0)},[r("v-card",{staticClass:"px-2 pt-1 pb-2",attrs:{outlined:"",title:t.name}},[r("v-row",{staticClass:"ma-0"},[r("div",{staticClass:"text-subtitle-1 text-truncate"},[e._v(e._s(t.name))])]),r("v-row",{staticClass:"ma-0",attrs:{justify:"space-between"}},[r("div",{staticClass:"text-caption"},[e._v(" "+e._s(e._f("sizeParser")(t.completedLength))+"/"+e._s(e._f("sizeParser")(t.totalLength))+" "+e._s(e._f("remainTimeParser")(t))+" ")]),"active"===t.status?r("div",{staticClass:"text-caption"},[e._v(" ("+e._s(t.numSeeders)+e._s(Number.isNaN(Number(t.numSeeders))?"":"/")+e._s(t.connections)+") "+e._s(e._f("sizeParser")(t.downloadSpeed))+"/s ")]):r("div",{staticClass:"text-caption"},[e._v(" "+e._s(e._f("statusParser")(t.status))+" ")])]),r("v-row",{staticClass:"ma-0"},[r("v-progress-linear",{attrs:{height:"20",value:e._f("progressParser")(t)}},[r("div",{staticClass:"text-caption"},[e._v(e._s(e._f("progressParser")(t))+"%")])])],1)],1)],1)],1)}))],2)},U=[],J=(r("fb6a"),r("a9e3"),r("b680"),function(e){Object(u["a"])(r,e);var t=Object(p["a"])(r);function r(){var e;return Object(i["a"])(this,r),e=t.apply(this,arguments),e.info=[],e.connected=null,e.fetchTime="",e}return Object(l["a"])(r,[{key:"alert",value:function(e,t,r){}},{key:"created",value:function(){this.updateDownloadInfo()}},{key:"updateDownloadInfo",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.getDownloadingList();case 3:t=e.sent,this.connected=!0,t&&(this.info.length=0,(r=this.info).push.apply(r,Object(s["a"])(t))),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.connected=!1;case 11:return this.updateFetchTime(),e.next=14,new Promise((function(e){return setTimeout(e,5e3)}));case 14:this.updateDownloadInfo();case 15:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateFetchTime",value:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),n="0".concat(e.getHours()).slice(-2),o="0".concat(e.getMinutes()).slice(-2),s="0".concat(e.getSeconds()).slice(-2);this.fetchTime="".concat(t,"/").concat(r,"/").concat(a," ").concat(n,":").concat(o,":").concat(s)}},{key:"removeTask",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.sendToRemove(t);case 3:this.alert("发送删除命令成功","success"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.alert("发送删除命令失败","error",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearTask",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.sendToClear(t);case 3:this.alert("发送清除命令成功","success"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.alert("发送清除命令失败","error",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(v["d"]));Object(d["a"])([Object(v["b"])()],J.prototype,"alert",null),J=Object(d["a"])([Object(v["a"])({filters:{progressParser:function(e){var t=Number(e.totalLength),r=Number(e.completedLength),a=0;return t>0&&r>=0&&(a=r/t*100),Math.floor(100*a)/100},sizeParser:function(e){var t,r=null!==(t=Number(e))&&void 0!==t?t:0;return r<1024?"".concat(r.toFixed(2),"B"):r<Math.pow(1024,2)?"".concat((r/1024).toFixed(2),"KB"):r<Math.pow(1024,3)?"".concat((r/Math.pow(1024,2)).toFixed(2),"MB"):r<Math.pow(1024,4)?"".concat((r/Math.pow(1024,3)).toFixed(2),"GB"):void 0},statusParser:function(e){switch(e){case"active":return"下载中";case"waiting":return"等待中";case"paused":return"暂停";case"error":return"出错";case"complete":return"下载完成";case"removed":return"已删除"}},remainTimeParser:function(e){if("active"!==e.status)return"";var t=Number(e.totalLength),r=Number(e.completedLength),a=Number(e.downloadSpeed),n=0;t>0&&a>0&&r>=0&&(n=Math.ceil((t-r)/a));var o=0,s=0,c=0;return 0===n?"":(n<60?o=n:n<3600?(s=Math.floor(n/60),o=n-60*s):(c=Math.floor(n/60/60),s=Math.floor((n-60*c*60)/60),o=n-60*c*60-60*s),"(".concat("0".concat(c).slice(-2),":").concat("0".concat(s).slice(-2),":").concat("0".concat(o).slice(-2),")"))}}})],J);var X=J,G=X,H=r("4ca6"),K=r("b0af"),Y=r("cc20"),Q=r("132d"),W=r("8e36"),Z=r("e0c7"),ee=Object(y["a"])(G,q,U,!1,null,null,null),te=ee.exports;j()(ee,{VBadge:H["a"],VBtn:T["a"],VCard:K["a"],VChip:Y["a"],VCol:O["a"],VIcon:Q["a"],VProgressLinear:W["a"],VRow:S["a"],VSubheader:Z["a"]});var re=function(e){Object(u["a"])(r,e);var t=Object(p["a"])(r);function r(){var e;return Object(i["a"])(this,r),e=t.apply(this,arguments),e.tab="add",e.repos=[],e.repository="",e.repositoryToken="",e.server="",e.serverToken="",e.alerts=[],e}return Object(l["a"])(r,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.repository=localStorage.getItem("repository")||"",this.repositoryToken=localStorage.getItem("repositoryToken")||"",this.server=localStorage.getItem("server")||"",this.serverToken=localStorage.getItem("serverToken")||"",!this.repository||!this.repositoryToken){e.next=24;break}return e.prev=5,e.next=8,m.giteeFetch("public_url.txt");case 8:return r=e.sent,e.next=11,m.giteeFetch("token.txt");case 11:return a=e.sent,e.t0=JSON,e.next=15,m.giteeFetch("repo.json");case 15:e.t1=e.sent,n=e.t0.parse.call(e.t0,e.t1),(t=this.repos).push.apply(t,Object(s["a"])(n.map((function(e,t){return{text:e,value:t}})))),this.server===r&&this.serverToken===a||(this.server=r,this.saveServer(r),this.serverToken=a,this.saveServerToken(a),this.showAlert("从Gitee更新服务器信息成功","success")),e.next=24;break;case 21:e.prev=21,e.t2=e["catch"](5),this.showAlert("从Gitee获取服务器信息失败","error",e.t2);case 24:case"end":return e.stop()}}),e,this,[[5,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveRepository",value:function(e){localStorage.setItem("repository",e)}},{key:"saveRepositoryToken",value:function(e){localStorage.setItem("repositoryToken",e)}},{key:"saveServer",value:function(e){localStorage.setItem("server",e)}},{key:"saveServerToken",value:function(e){localStorage.setItem("serverToken",e)}},{key:"showAlert",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n=this.alerts.find((function(e){return!1===e.show&&!0===e.shown})),o={show:!1,text:e,type:r,shown:!1};(n?(o.show=!0,o.shown=!0,Object.assign(n,o)):(this.alerts.push(o),this.$nextTick((function(){o.show=!0,o.shown=!0}))),"error"===r&&a instanceof Error)&&console.error("%c".concat(this.$projectName,"%cv").concat(this.$projectVersion,"%c ").concat(null!==(t=a.stack)&&void 0!==t?t:a),"border-radius: 4px 0 0 4px;color:#fff;background:#424242; padding: 0 4px","color:white;background:#01579B;border-radius: 0 4px 4px 0;padding: 0 4px","")}}]),r}(v["d"]);re=Object(d["a"])([Object(v["a"])({components:{Add:F,TextAdd:z,Downloading:te}})],re);var ae=re,ne=ae,oe=r("7496"),se=r("40dc"),ce=r("a523"),ie=r("f6c4"),le=r("8dd9"),ue=r("2db4"),pe=r("71a3"),de=r("c671"),ve=r("fe57"),he=r("aac8"),fe=Object(y["a"])(ne,n,o,!1,null,null,null),be=fe.exports;j()(fe,{VApp:oe["a"],VAppBar:se["a"],VContainer:ce["a"],VIcon:Q["a"],VMain:ie["a"],VRow:S["a"],VSheet:le["a"],VSnackbar:ue["a"],VTab:pe["a"],VTabItem:de["a"],VTabs:ve["a"],VTabsItems:he["a"],VTextField:R["a"]});var me=r("f309"),xe=r("25a2");r("d4b8"),r("5363");a["a"].use(me["a"]);var ke=new me["a"]({theme:{dark:!0},lang:{locales:{zhHans:xe["a"]},current:"zhHans"}}),ge=r("9224");a["a"].config.productionTip=!1,a["a"].prototype.$projectName=ge.name.replace(/^./,(function(e){return e.toUpperCase()})),a["a"].prototype.$projectVersion=ge.version,a["a"].config.productionTip=!1,new a["a"]({vuetify:ke,render:function(e){return e(be)}}).$mount("#app")}});